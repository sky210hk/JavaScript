<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <button type="button" onclick="ajax()">ajax요청</button>

    <script>
        function ajax() {

            //fetch를 사용하면 Promise객체를 받습니다. 
            //(Promise에는 요청에 대한 상태정보가 있습니다.)
            //pending - 대기중
            //fullfilled - 요청성공
            //rejected - 요청실패
            //Promise안에 then함수 안에 콜백함수를 넣으면, 
            //  콜백함수의 첫 번째 매개변수에 응답에 대한 내용을 넣어준다.

            /*
            var pro = fetch("hi.txt");
            pro.then(function(response) {
                console.log(pro);
            })
            */

            //단, then()은 시간이 오래 걸릴 수 있기 때문에 비동기적으로 실행
            //비동기적 : 1 -> 3 -> 2
            /*
            console.log(1);

            fetch("hi.txt").then(function(response) {
                console.log(2);
            })

            console.log(3);
            */

            fetch("hi.txt").then(function (response) {
                console.log(response);

                //text() 는 문자로 반환시키겠다의 의미, 결과는 Promise로 반환
                response.text().then(function(data) { //then함수 아래에 저장한다.
                    console.log(data);
                    //처리할 내용.....
                    
                })
                
            })

        }
    </script>


</body>

</html>





















