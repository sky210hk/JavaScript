<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<body>

    <script>

        //클로저? - 지역변수를 함수 바깥에서도 사용할 수 있게 해줌
        //내부함수가 외부함수의 변수에 접근할 수 있는 환경을 만드는 것
        function func1() {
            var a = 1;

            return function() { // 2. 그러나 return에 function을 걸어줘서 클로저 상황을 만듬
                return a;
            }

        } // 1. 원래대로면 a지역변수는 여기서 사라집니다.

        var aaa = func1();
        var x = aaa();
        console.log(x);

        //클로저를 이용하면 private변수를 만들 수 있습니다.(JS는 Java와 달리 private, public이 없다...)

        console.log("-------------------------");
        
        //클로저 예시
        var compute = function() {

            var count = 0;

            return function() { //자기가 실행되었던 환경을 기억함.
                return ++count; //java의 private취급이 된다.
            }
        }
        var func = compute();
        console.log(func()); //1
        console.log(func()); //2
        console.log(func()); //3
        console.log(func()); //4 (순차적으로 올라간다.)

    </script>

    
</body>
</html>